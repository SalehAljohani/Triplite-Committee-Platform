@model List<Triplite_Committee_Platform.ViewModels.SearchViewModel>
@{
    ViewData["Title"] = "Search";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@if (TempData["Message"] != null)
{
    <div class="alert alert-danger" role="alert">
        @TempData["Message"]
    </div>
}

<div class="card mx-auto">
    <div class="card-header text-center">
        <strong>Search</strong>
    </div>
    <div class="card-body">
        @if (ViewBag.ActiveRole == "Admin")
        {
            <form asp-action="AdminSearch" method="post">
                <div class="form-group row justify-content-center">
                    <div class="col-sm-5">
                        <input type="text" class="form-control" name="search" placeholder="Enter search term" />
                    </div>
                    @if (ViewBag.Colleges != null)
                    {
                        <div class="col-sm-3">
                            <select class="form-control" asp-items="ViewBag.Colleges" name="SelectedCollege">
                                <option value="">Select College</option>
                            </select>
                        </div>
                    }
                    @if (ViewBag.Departments != null)
                    {
                        <div class="col-sm-3">
                            <select class="form-control" asp-items="ViewBag.Departments" name="SelectedDepartment">
                                <option value="">Select Department</option>
                            </select>
                        </div>
                    }

                    <div class="col-sm-1">
                        <button type="submit" class="btn btn-primary"><i class="fa fa-search"></i> Search</button>
                    </div>
                </div>
            </form>
        }
        else if (ViewBag.ActiveRole == "College Dean" || ViewBag.ActiveRole == "Vice Dean")
        {
            <form asp-action="AdminSearch" method="post">
                <div class="form-group row justify-content-center">
                    <div class="col-sm-5">
                        <input type="text" class="form-control" name="search" placeholder="Enter search term" />
                    </div>
                    @if (ViewBag.Colleges != null)
                    {
                        <div class="col-sm-3">
                            <select class="form-control" asp-items="ViewBag.Colleges" name="SelectedCollege">
                                <option value="">Select College</option>
                            </select>
                        </div>
                    }
                    @if (ViewBag.Departments != null)
                    {
                        <div class="col-sm-3">
                            <select class="form-control" asp-items="ViewBag.Departments" name="SelectedDepartment">
                                <option value="">Select Department</option>
                            </select>
                        </div>
                    }

                    <div class="col-sm-1">
                        <button type="submit" class="btn btn-primary"><i class="fa fa-search"></i> Search</button>
                    </div>
                </div>
            </form>
        }
    </div>
</div>
